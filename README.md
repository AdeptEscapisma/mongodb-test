## Описание

Небольшой тестовый проект по работе с MongoDB, содержащий:
 - Скрипт для генерации 10 млн. записей
 - Метод поиска по таблице
 - Нагрузочное тестирование поиска по таблице с индексами и без индексов

При запуске проекта поднимается веб-сервер с одним эндпоинтом:
`GET /records` - получение записей из БД.
Query параметры:
1. `name` - Искомое имя в БД
2. `limit` - макс. кол-во выводимых записей (по умолчанию 100)
3. `offset` - сколько записей пропустить (по умолчанию 0)
4. `indexed` - нужно ли использовать индекс (по умолчанию true)

## Подготовка
1. Установить пакетный менеджер пакета (устанавливается через corepack):
```bash
$ corepack enable
```
2. Установить зависимости:
```bash
$ yarn install
```
3. Собрать проект:
```bash
$ yarn build
```
4. Поднять MongoDB:
```bash
$ docker compose up -d
```
5. Запустить сервер
```bash
$ yarn start # Development режим

$ yarn start:dev # Запуск development сервера в watch режиме

$ yarn start:prod # Запуск в production режиме
```

## Тесты
Для запуска тестов необходимо установить [Grafana k6](https://grafana.com/docs/k6/latest/set-up/install-k6/).
Реализовано два нагрузочных теста по эндпоинту `GET /records` - с индексом и без индекса:

```bash
$ yarn run test:load # Запуск нагрузочного тестирования с использованием индекса

$ yarn run test:load:unindexed # Запуск нагрузочного тестирования без использования индекса
```